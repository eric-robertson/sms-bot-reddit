(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(8),c=n.n(s),i=(n(13),n(4)),o=(n(14),n(2)),u=n.n(o),l=n(3),d="https://mptduze5ug.execute-api.us-east-1.amazonaws.com/dev";function p(e,t,n){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(u.a.mark((function e(t,n,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"/").concat(t),{method:"POST",body:JSON.stringify(n)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=n(0);function h(e,t){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<10)){e.next=4;break}n(!1),e.next=12;break;case 4:if(10==t.length){e.next=8;break}n([]),e.next=12;break;case 8:return e.next=10,p("lookupNumber",{phone:t});case 10:r=e.sent,n(r.data);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){var n=e["trigger-time"]-60*(new Date).getTimezoneOffset(),r=(""+Math.floor(n/3600)).padStart(2,"0"),a=(""+Math.floor(n%3600/60)).padStart(2,"0"),s="";return"reddit"==e.rule.type&&(s="Top image from r/".concat(e.rule.subreddit)),"raw"==e.rule.type&&(s='Raw message "'.concat(e.rule.msg,'"')),Object(b.jsxs)("div",{className:"numberResult",onMouseUp:t,children:[Object(b.jsxs)("div",{className:"phoneNumber",children:["(",e["phone-number"].substring(0,3),")-",e["phone-number"].substring(3,6),"-",e["phone-number"].substring(6)]}),Object(b.jsxs)("div",{className:"time",children:["Sends @ ",r,":",a]}),Object(b.jsx)("div",{className:"textContent",children:s})]})}var g=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),c=Object(i.a)(s,2),o=c[0],d=c[1],j=["search"];n.length>0&&j.push("active");var m=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("deleteRule",{id:t});case 2:h(n,d);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:j.join(" "),placeholder:"Lookup by phone-number",onChange:function(e){a(e.target.value),h(e.target.value,d)}}),Object(b.jsx)("div",{className:"resultsLabel",children:"Click to remove a rule"}),o&&Object(b.jsxs)("div",{children:[o.map((function(e,t){return Object(b.jsx)("div",{style:{marginBottom:20},children:x(e,(function(){return m(e.id)}))},t)})),0==o.length?Object(b.jsx)("div",{children:"No rules for that number"}):""]})]})},O=n(5),f=n(7),v=function(){var e=Object(r.useState)({isAM:!0,msgType:"raw"}),t=Object(i.a)(e,2),n=t[0],a=t[1],s=function(e){var t=e.target;return a(Object(f.a)(Object(f.a)({},n),{},Object(O.a)({},t.name,t.value)))},c=function(){var e=Object(l.a)(u.a.mark((function e(){var t,r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0===n.isAM?parseInt(n.hour):parseInt(n.hour)+12,r=60*t*60,r+=60*parseInt(n.minute),(a=new Date).setHours(0),a.setMinutes(0),a.setSeconds(r),r=3600*a.getUTCHours()+60*a.getUTCMinutes(),s={type:n.msgType},"raw"===n.msgType?s.msg=n.txtMsg:s.subreddit=n.txtMsg,e.next=12,p("createRule",{number:n.phoneNum,time:r,payload:s});case 12:e.sent,alert("New rule added!"),window.location.reload();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{style:{display:"relative",paddingTop:200,width:600,margin:"auto"},children:[Object(b.jsx)("div",{style:{fontSize:15,color:"grey",marginTop:40},children:"Enter a phone number and an aproximate time for message to be sent"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"phone-box",placeholder:"Phone Number",type:"text",name:"phoneNum",onChange:s}),Object(b.jsx)("input",{className:"time-box",type:"text",name:"hour",onChange:s,placeholder:"01"}),":",Object(b.jsx)("input",{className:"time-box",type:"text",name:"minute",onChange:s,placeholder:"23"}),Object(b.jsxs)("select",{className:"dropdown",name:"isAM",id:"dropdown",onChange:s,children:[Object(b.jsx)("option",{value:!0,children:"AM"}),Object(b.jsx)("option",{value:!1,children:"PM"})]})]}),Object(b.jsx)("div",{style:{fontSize:15,color:"grey",marginTop:40},children:"Send either a raw message or the top post from a given subreddit"}),Object(b.jsx)("div",{style:{margin:20},children:Object(b.jsxs)("select",{className:"dropdown",name:"msgType",id:"msgType",onChange:s,children:[Object(b.jsx)("option",{value:"raw",children:"Raw Message"}),Object(b.jsx)("option",{value:"reddit",children:"Subreddit"})]})}),Object(b.jsx)("div",{children:"raw"==n.msgType?Object(b.jsx)("textarea",{className:"textfield",placeholder:"Message to be sent",type:"text",name:"txtMsg",onChange:s}):Object(b.jsx)("input",{className:"textfield2",placeholder:"r/me_irl",type:"text",name:"txtMsg",onChange:s})}),Object(b.jsx)("button",{onClick:c,className:"button",children:"Create Rule!"})]})},y=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("div",{className:"switcher",children:[Object(b.jsx)("button",{onClick:function(){return a(!0)},children:"Edit Rules"}),Object(b.jsx)("button",{onClick:function(){return a(!1)},children:"Add Rules"})]}),Object(b.jsx)("img",{src:"logo.svg"}),n?Object(b.jsx)(g,{}):Object(b.jsx)(v,{})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(y,{})}),document.getElementById("root")),w()}},[[17,1,2]]]);
//# sourceMappingURL=main.076c1cc0.chunk.js.map