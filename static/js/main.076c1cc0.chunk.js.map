{"version":3,"sources":["api.js","Lookup.js","AddPhone.js","App.js","reportWebVitals.js","index.js"],"names":["api","request","route","body","callback","a","fetch","method","JSON","stringify","data","json","requestResults","search","length","API","phone","resultListing","click","d_min","Date","getTimezoneOffset","hour","Math","floor","padStart","min","textContent","rule","type","subreddit","msg","className","onMouseUp","substring","useState","text","setText","results","setResults","classes","push","remove","id","join","placeholder","onChange","e","target","value","map","v","key","style","marginBottom","state","setState","handleChange","name","submitForm","numHours","isAM","parseInt","numSeconds","minute","d","setHours","setMinutes","setSeconds","getUTCHours","getUTCMinutes","payload","msgType","txtMsg","number","phoneNum","time","alert","window","location","reload","display","paddingTop","width","margin","fontSize","color","marginTop","onClick","App","lookupTab","setLookupTab","src","Lookup","AddPhone","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.076c1cc0.chunk.js","sourcesContent":["const api = 'https://mptduze5ug.execute-api.us-east-1.amazonaws.com/dev'\n\nexport async function request ( route, body, callback ) {\n\n    const data = await fetch(`${api}/${route}`, {\n        method: 'POST',\n        body : JSON.stringify(body)\n    })\n    \n    return data.json()\n\n}","import React, { useState } from 'react'\nimport * as API from './api'\n\nasync function requestResults ( search, callback ) {\n    if ( search.length < 10) callback(false)\n    else if ( search.length != 10 ) callback([])\n    else {\n        let data = await API.request('lookupNumber', { phone : search  })\n        callback( data.data )\n    }\n}   \n\nfunction resultListing ( data, click ) {\n    let d_min =  data['trigger-time'] - (new Date().getTimezoneOffset() * 60) ;\n\n    let hour = (\"\" + Math.floor(d_min / ( 60 * 60))).padStart(2,'0')\n    let min = (\"\" + Math.floor((d_min % (60 * 60))/60)).padStart(2, '0')\n\n    let textContent = '';\n    if (data.rule.type == 'reddit'){\n        textContent = `Top image from r/${data.rule.subreddit}`\n    }\n    if (data.rule.type == 'raw'){\n        textContent = `Raw message \"${data.rule.msg}\"`\n    }\n\n    return <div className='numberResult' onMouseUp={click}>\n        <div className='phoneNumber' >\n            ({data['phone-number'].substring(0,3)})-{data['phone-number'].substring(3,6)}-{data['phone-number'].substring(6)}\n        </div>\n        <div className='time'>\n            Sends @ {hour}:{min}\n        </div>\n        <div className=\"textContent\">\n            {textContent}\n        </div>\n    </div>\n}\n\nexport default () => {\n    \n    const [text, setText] = useState('')\n    const [results, setResults] = useState(false)\n\n    let classes = ['search']\n    if ( text.length > 0 ) classes.push('active')\n\n    let changeText = (e) => {\n        setText(e.target.value)\n        requestResults(e.target.value, setResults )\n    }\n\n    let remove = async ( id )=> {\n        await API.request('deleteRule', { id : id  })\n        requestResults(text, setResults )\n    }\n\n\n    return <div>\n        <input className={classes.join(' ')} placeholder=\"Lookup by phone-number\" onChange={changeText} />\n        <div className=\"resultsLabel\">\n            Click to remove a rule\n        </div>\n        { results && <div>\n            {results.map((v,key)=><div key={key} style={{marginBottom: 20}}>\n                {resultListing(v, () => remove(v.id))}\n            </div>)}\n            {results.length == 0 ? <div>No rules for that number</div> : ''}\n        </div>       } \n        \n    </div>\n\n}","import React, { useState } from 'react'\nimport * as API from './api'\n\nexport default () => {\n    const [state, setState] = useState({'isAM': true, 'msgType': 'raw'})\n    const handleChange = ({ target }) => setState({ ...state, [target.name]: target.value })\n\n    const submitForm = async () => {\n        // Calculate number of seconds from hours/mins/am\n        let numHours = (state.isAM === true) ? parseInt(state.hour) : parseInt(state.hour) + 12\n        let numSeconds =  numHours * 60 * 60\n        numSeconds += parseInt(state.minute) * 60\n\n        let d = new Date();\n        d.setHours(0); d.setMinutes(0); d.setSeconds(numSeconds);\n        numSeconds = d.getUTCHours() * (60 *60) + d.getUTCMinutes() * (60) \n\n        // Create payload based on reddit/raw type\n        let payload = { type: state.msgType }\n        \n        if (state.msgType === 'raw')\n            payload.msg = state.txtMsg\n        else\n            payload.subreddit = state.txtMsg\n\n        // Make API call\n        let data = await API.request('createRule', {\n            number: state.phoneNum,\n            time: numSeconds,\n            payload\n        })\n\n        alert( 'New rule added!' )\n        window.location.reload();\n    }\n\n    return (\n        <div style={{display: 'relative', paddingTop: 200, width: 600, margin: 'auto'}}>\n        <div style={{fontSize: 15, color: 'grey', marginTop: 40}}>\n            Enter a phone number and an aproximate time for message to be sent\n            </div>\n            <div>\n                <input className=\"phone-box\" placeholder=\"Phone Number\" type=\"text\" name=\"phoneNum\" onChange={handleChange} />\n                <input  className=\"time-box\" type=\"text\" name=\"hour\" onChange={handleChange} placeholder='01' />\n                :\n                <input   className=\"time-box\"type=\"text\" name=\"minute\" onChange={handleChange} placeholder='23'  />\n\n                <select className='dropdown' name=\"isAM\" id=\"dropdown\" onChange={handleChange}>\n                    <option value={true}>AM</option>\n                    <option value={false}>PM</option>\n                </select>\n            </div>\n            <div style={{fontSize: 15, color: 'grey', marginTop: 40}}>\n            Send either a raw message or the top post from a given subreddit\n            </div>\n            <div style={{margin: 20 }}>\n                <select className='dropdown' name=\"msgType\" id=\"msgType\" onChange={handleChange} >\n                    <option value=\"raw\">Raw Message</option>\n                    <option value=\"reddit\">Subreddit</option>\n                </select>\n            </div>\n            <div>\n                {state.msgType=='raw' ? \n                    <textarea className='textfield' placeholder=\"Message to be sent\" type=\"text\" name=\"txtMsg\" onChange={handleChange} />\n                    : <input  className='textfield2' placeholder=\"r/me_irl\" type=\"text\" name=\"txtMsg\" onChange={handleChange} />\n                }\n            </div>\n\n            <button onClick={submitForm} className=\"button\">\n                Create Rule!\n            </button>\n\n        </div>\n    )\n}\n","import './App.css'\nimport { useState } from 'react'\nimport Lookup from './Lookup'\nimport AddPhone from './AddPhone'\n\nconst App = () => {\n  const [lookupTab, setLookupTab] = useState(false)\n\n  return (\n    <div className=\"App\">\n        <div className=\"switcher\">\n            <button onClick={() => setLookupTab(true)}>\n                Edit Rules\n            </button>\n            <button onClick={() => setLookupTab(false)}>\n                Add Rules\n            </button>\n\n        </div>\n\n        <img src=\"logo.svg\" />\n\n      {lookupTab\n        ? <Lookup />\n        : <AddPhone />\n      }\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Lookup from './Lookup';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}